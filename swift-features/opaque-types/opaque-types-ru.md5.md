Непрозрачные типы (НТ) позволяют скрыть конкретные типы от клиента библиотеки, возвращая только информацию о поддерживаемом протоколе. В это же время у компилятора доступ к типам остается.

Изначально НТ поддерживались лишь как тип возвращаемого значения.

НТ позволяет универсальной функции выбрать возвращаемый тип, в в то время как при возвращени дженерика, возвращаемый тип определяется контекстом.

Учитывая что как и у дженериков, итоговый тип определяется на этапе компиляции, такой способ дешевле в выполнении, чем экз контейнеры.

Начиная с 5.7 можно использовать some в качестве параметра при объявлении метода, так же как и дженерики; и использовтаь их как тип элемента структур возвращаемых значений / в пределах замыканий.
